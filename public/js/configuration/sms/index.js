(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{trRf:function(s,t,o){"use strict";o.r(t);var a={components:{},data:function(){return{configForm:new Form({sms_gateway:"",max_sms_per_chunk:"",custom_sms_api_get_url:"",custom_sms_api_number_prefix:"",custom_sms_api_sender_id_param:"",custom_sms_api_sender_id:"",custom_sms_api_receiver_param:"",custom_sms_api_message_param:"",custom_sms_api_accepts_multiple_receiver:0,config_type:""},!1),help_topic:"",sms_gateways:[{text:"Custom",value:"custom"}]}},mounted:function(){helper.hasPermission("access-configuration")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getConfiguration()},methods:{getConfiguration:function(){var s=this,t=this.$loading.show();axios.get("/api/configuration").then((function(o){s.configForm=helper.formAssign(s.configForm,o),t.hide()})).catch((function(s){t.hide(),helper.showErrorMsg(s)}))},submit:function(){var s=this,t=this.$loading.show();this.configForm.config_type="sms",this.configForm.post("/api/configuration").then((function(o){s.$store.dispatch("setConfig",{loaded:!1}),toastr.success(o.message),t.hide()})).catch((function(s){t.hide(),helper.showErrorMsg(s)}))}}},e=o("KHd+"),r=Object(e.a)(a,(function(){var s=this,t=s.$createElement,o=s._self._c||t;return o("div",[o("div",{staticClass:"page-titles"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-6"},[o("h3",{staticClass:"text-themecolor"},[s._v(s._s(s.trans("configuration.sms")))])]),s._v(" "),o("div",{staticClass:"col-12 col-sm-6"},[o("div",{staticClass:"action-buttons pull-right"},[o("button",{staticClass:"btn btn-info btn-sm",on:{click:function(t){return s.$router.push("/dashboard")}}},[o("i",{staticClass:"fas fa-home"}),s._v(" "),o("span",{staticClass:"d-none d-sm-inline"},[s._v(s._s(s.trans("general.home")))])]),s._v(" "),o("help-button",{on:{clicked:function(t){s.help_topic="configuration.sms"}}})],1)])])]),s._v(" "),o("div",{staticClass:"container-fluid"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-body p-4"},[o("show-tip",{attrs:{module:"configuration",tip:"tip_sms"}}),s._v(" "),o("form",{on:{submit:function(t){return t.preventDefault(),s.submit(t)},keydown:function(t){return s.configForm.errors.clear(t.target.name)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-3"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[s._v(s._s(s.trans("configuration.sms_gateway")))]),s._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:s.configForm.sms_gateway,expression:"configForm.sms_gateway"}],staticClass:"custom-select col-12",attrs:{name:"sms_gateway"},on:{change:[function(t){var o=Array.prototype.filter.call(t.target.options,(function(s){return s.selected})).map((function(s){return"_value"in s?s._value:s.value}));s.$set(s.configForm,"sms_gateway",t.target.multiple?o:o[0])},function(t){return s.configForm.errors.clear("sms_gateway")}]}},[o("option",{attrs:{value:""}},[s._v(s._s(s.trans("general.select_one")))]),s._v(" "),s._l(s.sms_gateways,(function(t){return o("option",{domProps:{value:t.value}},[s._v("\n                                    "+s._s(t.text)+"\n                                  ")])}))],2),s._v(" "),o("show-error",{attrs:{"form-name":s.configForm,"prop-name":"sms_gateway"}})],1)]),s._v(" "),o("div",{staticClass:"col-12 col-sm-3"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[s._v(s._s(s.trans("configuration.max_sms_per_chunk")))]),s._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:s.configForm.max_sms_per_chunk,expression:"configForm.max_sms_per_chunk"}],staticClass:"form-control",attrs:{type:"text",name:"max_sms_per_chunk",placeholder:s.trans("configuration.max_sms_per_chunk")},domProps:{value:s.configForm.max_sms_per_chunk},on:{input:function(t){t.target.composing||s.$set(s.configForm,"max_sms_per_chunk",t.target.value)}}}),s._v(" "),o("show-error",{attrs:{"form-name":s.configForm,"prop-name":"max_sms_per_chunk"}})],1)])]),s._v(" "),"custom"==s.configForm.sms_gateway?[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-sm-3"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[s._v(s._s(s.trans("configuration.custom_sms_api_get_url")))]),s._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:s.configForm.custom_sms_api_get_url,expression:"configForm.custom_sms_api_get_url"}],staticClass:"form-control",attrs:{type:"text",name:"custom_sms_api_get_url",placeholder:s.trans("configuration.custom_sms_api_get_url")},domProps:{value:s.configForm.custom_sms_api_get_url},on:{input:function(t){t.target.composing||s.$set(s.configForm,"custom_sms_api_get_url",t.target.value)}}}),s._v(" "),o("show-error",{attrs:{"form-name":s.configForm,"prop-name":"custom_sms_api_get_url"}})],1)]),s._v(" "),o("div",{staticClass:"col-12 col-sm-3"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[s._v(s._s(s.trans("configuration.custom_sms_api_number_prefix")))]),s._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:s.configForm.custom_sms_api_number_prefix,expression:"configForm.custom_sms_api_number_prefix"}],staticClass:"form-control",attrs:{type:"text",name:"custom_sms_api_number_prefix",placeholder:s.trans("configuration.custom_sms_api_number_prefix")},domProps:{value:s.configForm.custom_sms_api_number_prefix},on:{input:function(t){t.target.composing||s.$set(s.configForm,"custom_sms_api_number_prefix",t.target.value)}}}),s._v(" "),o("show-error",{attrs:{"form-name":s.configForm,"prop-name":"custom_sms_api_number_prefix"}})],1)]),s._v(" "),o("div",{staticClass:"col-12 col-sm-3"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[s._v(s._s(s.trans("configuration.custom_sms_api_sender_id_param")))]),s._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:s.configForm.custom_sms_api_sender_id_param,expression:"configForm.custom_sms_api_sender_id_param"}],staticClass:"form-control",attrs:{type:"text",name:"custom_sms_api_sender_id_param",placeholder:s.trans("configuration.custom_sms_api_sender_id_param")},domProps:{value:s.configForm.custom_sms_api_sender_id_param},on:{input:function(t){t.target.composing||s.$set(s.configForm,"custom_sms_api_sender_id_param",t.target.value)}}}),s._v(" "),o("show-error",{attrs:{"form-name":s.configForm,"prop-name":"custom_sms_api_sender_id_param"}})],1)]),s._v(" "),o("div",{staticClass:"col-12 col-sm-3"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[s._v(s._s(s.trans("configuration.custom_sms_api_sender_id")))]),s._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:s.configForm.custom_sms_api_sender_id,expression:"configForm.custom_sms_api_sender_id"}],staticClass:"form-control",attrs:{type:"text",name:"custom_sms_api_sender_id",placeholder:s.trans("configuration.custom_sms_api_sender_id")},domProps:{value:s.configForm.custom_sms_api_sender_id},on:{input:function(t){t.target.composing||s.$set(s.configForm,"custom_sms_api_sender_id",t.target.value)}}}),s._v(" "),o("show-error",{attrs:{"form-name":s.configForm,"prop-name":"custom_sms_api_sender_id"}})],1)]),s._v(" "),o("div",{staticClass:"col-12 col-sm-3"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[s._v(s._s(s.trans("configuration.custom_sms_api_receiver_param")))]),s._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:s.configForm.custom_sms_api_receiver_param,expression:"configForm.custom_sms_api_receiver_param"}],staticClass:"form-control",attrs:{type:"text",name:"custom_sms_api_receiver_param",placeholder:s.trans("configuration.custom_sms_api_receiver_param")},domProps:{value:s.configForm.custom_sms_api_receiver_param},on:{input:function(t){t.target.composing||s.$set(s.configForm,"custom_sms_api_receiver_param",t.target.value)}}}),s._v(" "),o("show-error",{attrs:{"form-name":s.configForm,"prop-name":"custom_sms_api_receiver_param"}})],1)]),s._v(" "),o("div",{staticClass:"col-12 col-sm-3"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[s._v(s._s(s.trans("configuration.custom_sms_api_message_param")))]),s._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:s.configForm.custom_sms_api_message_param,expression:"configForm.custom_sms_api_message_param"}],staticClass:"form-control",attrs:{type:"text",name:"custom_sms_api_message_param",placeholder:s.trans("configuration.custom_sms_api_message_param")},domProps:{value:s.configForm.custom_sms_api_message_param},on:{input:function(t){t.target.composing||s.$set(s.configForm,"custom_sms_api_message_param",t.target.value)}}}),s._v(" "),o("show-error",{attrs:{"form-name":s.configForm,"prop-name":"custom_sms_api_message_param"}})],1)]),s._v(" "),o("div",{staticClass:"col-12 col-sm-3"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[s._v(s._s(s.trans("configuration.custom_sms_api_accepts_multiple_receiver")))]),s._v(" "),o("label",{staticClass:"custom-control custom-checkbox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:s.configForm.custom_sms_api_accepts_multiple_receiver,expression:"configForm.custom_sms_api_accepts_multiple_receiver"}],staticClass:"custom-control-input",attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(s.configForm.custom_sms_api_accepts_multiple_receiver)?s._i(s.configForm.custom_sms_api_accepts_multiple_receiver,"1")>-1:s.configForm.custom_sms_api_accepts_multiple_receiver},on:{change:function(t){var o=s.configForm.custom_sms_api_accepts_multiple_receiver,a=t.target,e=!!a.checked;if(Array.isArray(o)){var r=s._i(o,"1");a.checked?r<0&&s.$set(s.configForm,"custom_sms_api_accepts_multiple_receiver",o.concat(["1"])):r>-1&&s.$set(s.configForm,"custom_sms_api_accepts_multiple_receiver",o.slice(0,r).concat(o.slice(r+1)))}else s.$set(s.configForm,"custom_sms_api_accepts_multiple_receiver",e)}}}),s._v(" "),o("span",{staticClass:"custom-control-label"})])])])])]:s._e(),s._v(" "),o("button",{staticClass:"btn btn-info waves-effect waves-light pull-right m-t-10",attrs:{type:"submit"}},[s._v(s._s(s.trans("general.save")))])],2)],1)])]),s._v(" "),o("right-panel",{attrs:{topic:s.help_topic}})],1)}),[],!1,null,null,null);t.default=r.exports}}]);
//# sourceMappingURL=index.js.map?id=c6272d6b5391cd72eb53