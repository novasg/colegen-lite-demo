(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{"0Rxj":function(t,o,e){"use strict";e.r(o);var r={components:{systemForm:e("G573").a},data:function(){return{help_topic:""}}},i=e("KHd+"),s=Object(i.a)(r,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("div",{staticClass:"page-titles"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-6"},[e("h3",{staticClass:"text-themecolor"},[t._v(t._s(t.trans("configuration.system_configuration")))])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"action-buttons pull-right"},[e("button",{staticClass:"btn btn-info btn-sm",on:{click:function(o){return t.$router.push("/dashboard")}}},[e("i",{staticClass:"fas fa-home"}),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.trans("general.home")))])]),t._v(" "),e("help-button",{on:{clicked:function(o){t.help_topic="configuration.system.configuration"}}})],1)])])]),t._v(" "),e("div",{staticClass:"container-fluid"},[e("system-form")],1),t._v(" "),e("right-panel",{attrs:{topic:t.help_topic}})],1)}),[],!1,null,null,null);o.default=s.exports},G573:function(t,o,e){"use strict";var r={props:{setupWizard:{default:!1},configurations:{required:!1}},components:{},data:function(){return{configForm:new Form({color_theme:"",direction:"",sidebar:"",date_format:"",time_format:"",notification_position:"",timezone:"",first_day_of_week:"",page_length:10,currency:"",https:0,todo:0,config_type:""},!1),systemConfigVariables:{color_themes:[],directions:[],sidebar:[],date_formats:[],time_formats:[],notification_positions:[],timezones:[],currencies:[],days:[]},direction:"",sidebar:""}},mounted:function(){helper.hasPermission("access-configuration")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getPreRequisite(),this.setupWizard||this.getConfiguration()},methods:{getPreRequisite:function(){var t=this,o=this.$loading.show();axios.get("/api/configuration/variable?type=system").then((function(e){t.systemConfigVariables.color_themes=e.color_themes,t.systemConfigVariables.directions=e.directions,t.systemConfigVariables.currencies=e.currencies,t.systemConfigVariables.sidebar=e.sidebar,t.systemConfigVariables.date_formats=e.date_formats,t.systemConfigVariables.time_formats=e.time_formats,t.systemConfigVariables.days=e.days,t.systemConfigVariables.notification_positions=e.notification_positions,t.systemConfigVariables.timezones=e.timezones,o.hide()})).catch((function(t){o.hide(),helper.showErrorMsg(t)}))},getConfiguration:function(){var t=this,o=this.$loading.show();axios.get("/api/configuration").then((function(e){t.configForm=helper.formAssign(t.configForm,e),t.direction=e.direction,t.sidebar=e.sidebar,o.hide()})).catch((function(t){o.hide(),helper.showErrorMsg(t)}))},submit:function(){var t=this,o=this.$loading.show();return this.configForm.config_type="system",this.configForm.https=this.configForm.https?1:0,this.configForm.todo=this.configForm.todo?1:0,this.configForm.post("/api/configuration").then((function(e){return t.$store.dispatch("setConfig",{loaded:!1}),toastr.success(e.message),o.hide(),!0})).catch((function(t){return o.hide(),helper.showErrorMsg(t),!1}))},getConfig:function(t){return helper.getConfig(t)}},watch:{configurations:function(t){t&&helper.formAssign(this.configForm,t)}}},i=e("KHd+"),s=Object(i.a)(r,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-body p-4"},[e("form",{on:{submit:function(o){return o.preventDefault(),t.submit(o)},keydown:function(o){return t.configForm.errors.clear(o.target.name)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("configuration.default_color_theme")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.configForm.color_theme,expression:"configForm.color_theme"}],staticClass:"custom-select col-12",attrs:{name:"color_theme"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.configForm,"color_theme",o.target.multiple?e:e[0])},function(o){return t.configForm.errors.clear("color_theme")}]}},t._l(t.systemConfigVariables.color_themes,(function(o){return e("option",{domProps:{value:o.value}},[t._v("\n                                    "+t._s(o.text)+"\n                                  ")])})),0),t._v(" "),e("show-error",{attrs:{"form-name":t.configForm,"prop-name":"color_theme"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("configuration.default_direction")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.configForm.direction,expression:"configForm.direction"}],staticClass:"custom-select col-12",attrs:{name:"direction"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.configForm,"direction",o.target.multiple?e:e[0])},function(o){return t.configForm.errors.clear("direction")}]}},t._l(t.systemConfigVariables.directions,(function(o){return e("option",{domProps:{value:o.value}},[t._v("\n                                    "+t._s(o.text)+"\n                                  ")])})),0),t._v(" "),e("show-error",{attrs:{"form-name":t.configForm,"prop-name":"direction"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("configuration.default_sidebar")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.configForm.sidebar,expression:"configForm.sidebar"}],staticClass:"custom-select col-12",attrs:{name:"sidebar"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.configForm,"sidebar",o.target.multiple?e:e[0])},function(o){return t.configForm.errors.clear("sidebar")}]}},t._l(t.systemConfigVariables.sidebar,(function(o){return e("option",{domProps:{value:o.value}},[t._v("\n                                    "+t._s(o.text)+"\n                                  ")])})),0),t._v(" "),e("show-error",{attrs:{"form-name":t.configForm,"prop-name":"sidebar"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("configuration.date_format")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.configForm.date_format,expression:"configForm.date_format"}],staticClass:"custom-select col-12",attrs:{name:"date_format"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.configForm,"date_format",o.target.multiple?e:e[0])},function(o){return t.configForm.errors.clear("date_format")}]}},t._l(t.systemConfigVariables.date_formats,(function(o){return e("option",{domProps:{value:o.value}},[t._v("\n                                    "+t._s(o.text)+"\n                                  ")])})),0),t._v(" "),e("show-error",{attrs:{"form-name":t.configForm,"prop-name":"date_format"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("configuration.time_format")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.configForm.time_format,expression:"configForm.time_format"}],staticClass:"custom-select col-12",attrs:{name:"time_format"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.configForm,"time_format",o.target.multiple?e:e[0])},function(o){return t.configForm.errors.clear("time_format")}]}},t._l(t.systemConfigVariables.time_formats,(function(o){return e("option",{domProps:{value:o.value}},[t._v("\n                                    "+t._s(o.text)+"\n                                  ")])})),0),t._v(" "),e("show-error",{attrs:{"form-name":t.configForm,"prop-name":"time_format"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("configuration.notification_position")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.configForm.notification_position,expression:"configForm.notification_position"}],staticClass:"custom-select col-12",attrs:{name:"notification_position"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.configForm,"notification_position",o.target.multiple?e:e[0])},function(o){return t.configForm.errors.clear("notification_position")}]}},t._l(t.systemConfigVariables.notification_positions,(function(o){return e("option",{domProps:{value:o.value}},[t._v("\n                                    "+t._s(o.text)+"\n                                  ")])})),0),t._v(" "),e("show-error",{attrs:{"form-name":t.configForm,"prop-name":"notification_position"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("configuration.timezone")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.configForm.timezone,expression:"configForm.timezone"}],staticClass:"custom-select col-12",attrs:{name:"timezone"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.configForm,"timezone",o.target.multiple?e:e[0])},function(o){return t.configForm.errors.clear("timezone")}]}},t._l(t.systemConfigVariables.timezones,(function(o){return e("option",{domProps:{value:o.value}},[t._v("\n                                    "+t._s(o.text)+"\n                                  ")])})),0),t._v(" "),e("show-error",{attrs:{"form-name":t.configForm,"prop-name":"timezone"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("calendar.first_day_of_week")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.configForm.first_day_of_week,expression:"configForm.first_day_of_week"}],staticClass:"custom-select col-12",attrs:{name:"first_day_of_week"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.configForm,"first_day_of_week",o.target.multiple?e:e[0])},function(o){return t.configForm.errors.clear("first_day_of_week")}]}},t._l(t.systemConfigVariables.days,(function(o){return e("option",{domProps:{value:o.value}},[t._v("\n                                    "+t._s(o.text)+"\n                                  ")])})),0),t._v(" "),e("show-error",{attrs:{"form-name":t.configForm,"prop-name":"first_day_of_week"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("configuration.currency")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.configForm.currency,expression:"configForm.currency"}],staticClass:"custom-select col-12",attrs:{name:"currency"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.configForm,"currency",o.target.multiple?e:e[0])},function(o){return t.configForm.errors.clear("currency")}]}},t._l(t.systemConfigVariables.currencies,(function(o){return e("option",{domProps:{value:o.value}},[t._v("\n                                    "+t._s(o.text)+"\n                                  ")])})),0),t._v(" "),e("show-error",{attrs:{"form-name":t.configForm,"prop-name":"currency"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("configuration.page_length")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.configForm.page_length,expression:"configForm.page_length"}],staticClass:"custom-select col-12",attrs:{name:"page_length"},on:{change:[function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.configForm,"page_length",o.target.multiple?e:e[0])},function(o){return t.configForm.errors.clear("page_length")}]}},t._l(t.getConfig("pagination"),(function(o){return e("option",{domProps:{value:o}},[t._v("\n                                    "+t._s(o+" "+t.trans("general.per_page"))+"\n                                  ")])})),0),t._v(" "),e("show-error",{attrs:{"form-name":t.configForm,"prop-name":"page_length"}})],1)])])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("configuration.https")))]),t._v(" "),e("div",[e("switches",{attrs:{theme:"bootstrap",color:"success"},model:{value:t.configForm.https,callback:function(o){t.$set(t.configForm,"https",o)},expression:"configForm.https"}})],1)])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("utility.todo")))]),t._v(" "),e("div",[e("switches",{attrs:{theme:"bootstrap",color:"success"},model:{value:t.configForm.todo,callback:function(o){t.$set(t.configForm,"todo",o)},expression:"configForm.todo"}})],1)])])])])]),t._v(" "),t.setupWizard?t._e():e("button",{staticClass:"btn btn-info waves-effect waves-light pull-right m-t-10",attrs:{type:"submit"}},[t._v(t._s(t.trans("general.save")))])])])])}),[],!1,null,null,null);o.a=s.exports}}]);
//# sourceMappingURL=index.js.map?id=65accf0a7735cff84d65